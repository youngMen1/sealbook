## 分布式系统CAP理论

CAP理论：一个分布式系统最多只能同时满足一致性（Consistency）、可用性（Availability）和分区容错性（Partition tolerance）这三项中的两项。

**Consistency 一致性（涉及重要信息如钱财；分布式存储系统必须保证）**

从客户端角度，多进程并发访问时，更新过的数据在不同进程如何获取的不同策略，决定了不同的一致性:

1.强一致性:对于关系型数据库，要求更新过的数据能被后续的访问都能看到.

2.弱一致性：能容忍后续的部分或者全部访问不到。

3.最终一致性：经过一段时间后要求能访问到更新后的数据。

CAP中说，不可能同时满足的这个一致性指的是强一致性。

**Availability 可用性（大型互联网为了服务可用，舍弃强一致性，保证最终一致性）**

服务一直可用，而且是正常响应时间。

| 可用性分类 | 可用水平（%） | 年可容忍停机时间 |
| :--- | :--- | :--- |
| 容错可用性 | 99.9999 | &lt;1 min |
| 极高可用性 | 99.999 | &lt;5 min |
| 具有故障自动恢复能力的可用性 | 99.99 | &lt;53 min |
| 高可用性 | 99.9 | &lt;8.8h |
| 商品可用性 | 99 | &lt;43.8 min |

**Partition Tolerance分区容错性\(分布式必须要考虑的问题）**

