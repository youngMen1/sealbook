# Java生鲜电商平台-支付模块的设计与架构

开源生鲜电商平台支付目前支持支付宝与微信。针对的是APP端（android or IOS）

## 1.数据库表设计
641237-20180514083820100-1888760839.png

说明：无论是支付宝还是微信支付，都会有一个服务端的回调，业务根据回调的结果处理相应的业务逻辑。

pay_logs这个表主要是记录相关的用户支付信息。是一个日志记录。

比如：谁付款的，什么时候付款的，订单号多少，是支付宝还是微信，支付状态是支付成功还是支付失败，还是未支付。

**特别注意：订单主表也有类似的回调信息。这样用多张表记录相应的信息，可以统计相应的业务指标，包括用户的行为分析等。
关于表的设计，我的经验分享是：如果可以，核心业务表一定要有一个日志记录表，如果可以，可以用时间轴等方式进行数据的插入，与时间轴的显示。

时间轴可以清楚的知道用户的行为点，帮助更加清晰的设计业务流程与系统架构。 **